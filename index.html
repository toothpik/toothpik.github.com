<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1"
name=keywords content="vim python calendar countdown build">
<title>toothpik's vim page</title>
<STYLE TYPE="text/css">
<!--
BODY
    { background-color:#CCCC99;
      color:black;
    }
A:link{color:blue}
A:visited{color:light-blue}
-->
</STYLE>
</head>
<body>
<h1>toothpik's vim page</h1>
this is not a site on what vim is, or how to use it -- if you find yourself here with either of those<br>
things in mind, go to the <a href="http://vim.sourceforge.net">vim homepage</a><br>
<br>
this page is more about how to have fun with vim than anything, or at least how i have fun with it<br>
<br>
it's also about how to have fun with python and tcl and perl<br>
<br>
and bash, awk, grep, sed, and all the rest<br>
<br>
my lastest inclination has been to build an interpreter free vim, ie no python, tcl, perl,<br>
ruby, or any external languages linked in -- mainly this is a tactic in the quicker<br>
&quot;enter-to-running&quot; war -- it is also backed with the understanding that if you want to do<br>
something to your buffer in another language you can write a vim function to save your buffer,<br>
then call the script with system(), or :r!&lt;scriptname&gt;, or :[range]!&lt;scriptname&gt;<br>
<br>
here's my <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/.vimrc">.vimrc</a>, as it existed at at least one point in time<br>
<br>
one script used in my .vimrc is <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/py/currmo">currmo</a> -- its output is read into the current buffer in the Acdmo()<br>
function, which i've mapped to &lt;S-F7&gt; -- here's a <a href="currmo.png">screenshot</a><br>
<br>
and here is the bash script i call <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/bin/cabv">cabv</a> i use to save vimrc in my .vim path with a date appended<br>
to its name<br>
<br>
while we're on the subject of scripts that push to github (cabv does that too) would be a good time<br>
to mention <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/bin/cfd">cfd</a> which uses <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/txt/filestocheck">filestocheck</a> as a driver to check for differences between what's on my<br>
harddrive and what's been uploaded to github<br>
<br>
<br>
<h4>feline section</h4>
here i am with my new favorite coding <a href="stubbie2.jpg">companion</a> -- she has a sixth sense that tells her when<br>
i'm playing shisen-sho so i will be sufficiently sedentary it'd be a good time to come snooze<br>
on me<br>
<br>
<br>
<h4>calendar section</h4>
my first calendar is a small reminder of <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/bin/weekly">weekly</a> chores, coded so the current day of week is always<br>
highlighted and in the middle with three days above and three days below -- i accomplish this by<br>
copying my <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/txt/weekly">txt/weekly</a> module into a /tmp file twice -- that way when i source <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/.vim/weekly.vim">.vim/weekly.vim</a> on it,<br>
it can always find the current day of week with three days on either side of it -- in addition i am spared<br>
the indignity of having to keep a 14 row txt/module with resulting double entries necessary<br>
<br>
i should probably mention at this point i have a symbolic link in my ~/bin path called <b>g</b> that points<br>
to gvim -- it's eminently easier to type than gvim, and yes, i have one called <b>v</b> that points to vim<br>
<br>
here is a picture of <a href="weekly.png">weekly</a> in action<br>
<br>
my main calendar is a three month calendar arranged horizontally -- i call it <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/bin/sacalh">sacalh</a> for<br>
&quot;stand-alone calendar, horizontal&quot; -- sacalh tells gvim to source <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/.vim/mmatc.vim">mmatc.vim</a>, which reads the<br>
output from <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/bin/cm1p1">cm1p1</a> into a hidden buffer<br>
<br>
let the littlest not be forgotten:  here is <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/mofix.sed">mofix.sed</a><br>
<br>
and this is what sacalh looks like <a href="sacalh.png">in use</a><br>
<br>
the third calendar i keep on my desktop -- i might mention here i have 4 desktops, and arrange these<br>
calendars, plus a monster konsole session, on desktop #2 -- the third calendar started out similar to<br>
the weekly calendar, and over time morphed into a log reporting tool -- the subject being laundry, the<br>
need being unlimited flexibility -- i call my laundry caller-upper <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/bin/snls">snls</a> -- if i ever typed it at a command<br>
prompt (i don't) i would think &quot;show new laundry schedule&quot; as i typed it<br>
<br>
snls invokes gvim on <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/.vim/snls.vim">snls.vim</a>, which reads the output from <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/bin/sll2">sll2</a> into a hidden buffer -- of course, sll2<br>
would have nothing to report if it didn't have <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/txt/laundry.log">laundry.log</a> to read (which i edit by typing <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/bin/glaun">glaun</a> at any<br>
command prompt)<br>
<br>
the requisite picture of <a href="laundry.png">snls at work</a> (the cursor isn't nearly so obnoxious when the window doesn't<br>
have focus)<br>
<br>
i invoke all three calendars with a single <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/bin/ws">ws</a> (think workspace), and each is coded so they can be<br>
updated after midnight with a &lt;Leader&gt;c<br>
<br>
further, each knows how to position itself above a konsole, giving a nice <a href="work.png">workable desktop</a><br>
<br>
<br>
<h4>konsole section</h4><br>
i've become a huge fan of konsole over the years, using it for almost everything -- with a selection<br>
of directory changing aliases in my <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/.bashrc">.bashrc</a> i can navigate faster than i can with the mouse in<br>
dolphin -- when i first start konsole i run ws, then <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/bin/mxm">mxm</a>, which makes &quot;x&quot; more konsole tabs, or 19<br>
without an argument -- i don't show the tab labels in konsole, it is so gloriously easy to switch<br>
between tabs with alt-left and alt-right there's no need for mouse clickable decorations at all<br>
<br>
<b>konsole one</b><br>
there are specific things i like to have in each konsole, and the first one is the weather -- i invoke it<br>
with <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/bin/cw">cw</a> (think &quot;cat weather&quot;) -- cw invokes the <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/tcl/cw">cw</a> on the tcl path and the output looks like <a href="weather.png">this</a> --<br>
if i want to see the forecast further into the future, i run <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/bin/wiv">wiv</a> so i can scroll around or play with<br>
highlighting -- as always, wiv calls something else, this time it's <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/.vim/weather.vim">weather.vim</a><br>
<br>
<b>konsole two</b><br>
here i run <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/bin/tc">tc</a> (think &quot;TODO calendar&quot;) -- tc calls <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/bin/tcnlc">tcnlc</a>, which invokes <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/fcdit.awk">fcdit.awk</a> on <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/txt/tocal">tocal</a> resulting in<br>
an extract from my calendar being <a href="tc.png">output</a> to the command line with current date flagged<br>
<br>
i create years for tocal with <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/bin/crt_tocal">crt_tocal</a> and i edit it with <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/bin/tocal">tocal</a> which sources <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/.vim/tocal.vim">tocal.vim</a> (which in turn<br>
sources <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/.vim/fcd.vim">fcd.vim</a>) so it can find and highlight current date<br>
<br>
<b>konsole three</b><br>
in my third konsole tab i like to have the output from <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/bin/cct">cct</a> and <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/bin/b22">b22</a> displayed together -- cct invokes<br>
<a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/bin/ct0">ct0</a> on <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/txt/ct_list">ct_list</a> using <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/bin/realstuff">realstuff</a>/<a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/realstuff.awk">realstuff.awk</a> and <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/tcl/ct0">tcl/ct0</a> which calls <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/bin/jctd">jctd</a> in order to produce day<br>
counts (from today) for the various dates in ct_list -- all gets piped through <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/incend.awk">incend.awk</a> to verify<br>
the dates are in ascending order<br>
<br>
b22 is a specialized version of <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/bin/b2">b2</a> which reads <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/txt/batlist">batlist</a>, the module in which i record important<br>
battery replacements -- with this system the batteries in the thermostat never die, and i never pick<br>
up a remote or flashlight that has dead batteries -- with these yearly replacements, i always have a<br>
good supply of &quot;used&quot; batteries for my cordless mouse and every-day-carry flashlight -- batlist gets<br>
piped through <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/tcl/batlist">tcl/batlist</a> which also calls jctd to produce day counts -- i keep b22 pointed at the<br>
oldest batteries in the list, which are the most important to watch<br>
<br>
when combined, cct and b22 look like <a href="cct_b22.png">this</a><br>
<br>
<b>konsole four</b><br>
konsole four is for budgeting -- here i track my checking account, reconcile, and project it into<br>
the future -- the script i use the most for displaying it is <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/bin/m">m</a> -- i've no idea why i called it 'm', but<br>
that's its name, i'm used to it, and there's no reason to change it now<br>
<br>
i have defined fiscal months as starting on the 23rd and ending on the 22nd -- that way there's<br>
a full week of lead time for transactions targeted for the 1st, and the month starts off clean<br>
with the first transactions first -- that's my take on it, it's my system, so i get to decide<br>
<br>
m uses a variable combination of mYY modules to display the relevant portion of my account, for<br>
example:<br>
<pre>
    { m11 8; m11 9 } | head -32
</pre>
will display august and most of september for 2011 -- m starts by running the entire year (<a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/bin/m11">m11</a>)<br>
through <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/funclear.awk">funclear.awk</a> in order to determine whether the first unclear transaction occurs in the<br>
same or the previous fiscal month -- with this information it can design the most relevant display<br>
using two of<br>
 - <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/plan1.awk">plan1.awk</a> - <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/plan2.awk">plan2.awk</a> - <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/plan3.awk">plan3.awk</a> - <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/plan4.awk">plan4.awk</a> - <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/plan5.awk">plan5.awk</a> - <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/plan6.awk">plan6.awk</a><br>
 - <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/plan7.awk">plan7.awk</a> - <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/plan8.awk">plan8.awk</a> - <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/plan9.awk">plan9.awk</a> - <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/plan10.awk">plan10.awk</a> - <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/plan11.awk">plan11.awk</a> - <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/plan12.awk">plan12.awk</a><br>
<br>
the plan_yyyy data modules have a very specific <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/txt/plan_format">format</a>, and i edit them by invoking <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/bin/gp">gp</a>, which<br>
sources <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/.vim/plan.vim">plan.vim</a> as it calls up the module -- any of <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/tcl/planfood">planfood</a>, <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/tcl/planbal">planbal</a>, or <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/tcl/planrecon">planrecon</a> may be<br>
invoked by different &lt;Leader&gt; mappings defined in plan.vim<br>
<br>
when it's time, i make the next year's plan using <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/bin/plannew">plannew</a>, a bash script that combines a<br>
tcl <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/tcl/plannew">core</a>, two python scripts, and five perl scripts, most of which are tailored to my specific<br>
needs, with the exception of <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/py/plandsh">plandsh</a> which puts a line of dashes between months at the<br>
end of the series -- driving all this is the <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/txt/plan_core">plan_core</a> which is described in the <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/txt/plan_readme">plan_readme</a> --<br>
of note is the last line in the core with description &quot;food &amp; atm&quot; -- the more accurate you<br>
can be in estimating this important item the closer your future projections will be to reality --<br>
a powerful tool in the quest for accurate food/atm estimates is a collaberation between <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/bin/lfy">lfy</a><br>
(last fiscal year) and <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/bin/mft">mft</a> (make food totals) -- as<br>
<pre>
    lfy | mft
</pre>
another tool that can be used to aid in estimating gas, electric, or other seasonal bills is<br>
to pipe lfy into <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/bin/ghs">ghs</a>, then in gvim locate the merchant of interest with '/' or '*' or even<br>
:let @/ = 'merchant of interest', then hit ',o' -- i currently use comma as my Leader for<br>
mappings, and &lt;Leader&gt;o is mapped to a powerful fold expression that folds away<br>
everything in the current buffer except lines containing whatever's in '@/'<br>
<br>
<br>
<b>konsole five</b><br>
konsole five gets to display the &quot;head before equal&quot; of my visa charges module<br>
using <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/bin/hbev">hbev</a> which makes use of two awk scripts,<a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/sae.awk">sae.awk</a> and <a href="https://github.com/toothpik/toothpik-s-.vimrc/blob/master/sbl.awk">sbl.awk</a><br>
<br>
sorry -- i'm no more inclined to share a picture of this in action than i was in konsole<br>
four<br>
<br>
<br>
<b>konsole six</b><br>
<br>
<br>
<b>konsole seven</b><br>
<br>
<br>
<b>konsole eight</b><br>
<br>
<br>
<b>konsole nine</b><br>
<br>
<br>
<b>konsole ten</b><br>
<br>
<br>
<b>konsole eleven</b><br>
<br>
<br>
<b>konsole twelve</b><br>
<br>
<br>
<b>konsole thirteen</b><br>
<br>
<br>
<b>konsole fourteen</b><br>
<br>
<br>
<b>konsole fifteen</b><br>
<br>
<br>
<b>konsole sixteen</b><br>
<br>
<br>
<b>konsole seventeen</b><br>
<br>
<br>
<b>konsole eighteen</b><br>
<br>
<br>
<b>konsole nineteen</b><br>
<br>
<br>
<b>konsole twenty</b><br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<!--
<h4>countdown section</h4>
technically, the countdown modules do not belong on my vim page - they are bash scripts, python, awk,<br>
and tcl/tk - well - i created them using vim, and i pull countdowns into vim sessions so much i think<br>
of them as vim entities<br>
<br>
besides, i don't have a bash/python/awk/tcl/tk page<br>
<br>
i have created 5 scripts, which create countdowns in different ways:<br>
<pre>
     1) <a href="py/ctdn.py">ctdn</a>:   takes one date - count down to [date] from current date
     2) <a href="py/ctdn2.py">ctdn2</a>:  takes two dates - count from the first date to the second
     3) <a href="py/ctdn3.py">ctdn3</a>:  takes a count - count down from today [count] days
     4) <a href="py/ctdn4.py">ctdn4</a>:  takes a count and a from-date - count down [count] days from [from-date]
     5) <a href="py/ctdn5.py">ctdn5</a>:  takes a count and a to-date - count down [count] days to [to-date]
</pre>
all of the ctdn scripts write to sysout, which can be easily redirected to a file or pipe, or pulled into<br>
a vim session with :r!ctdn...<br>
<br>
both #1 and #3 can handle negatives:  for #1, if the date provided is prior to today, it will count down<br>
from [date] to today - if the count given to ctdn3 is negative, it starts [count] days ago counting to today<br>
<br>
i keep these on my ~/py path, with symbolic links pointing to them from my ~/bin path<br>
<br>
the gui, <a href="py/mcdl">mcdl</a>, pulls all 5 scripts together with radio buttons and edit boxes - this is my first attempt<br>
at tcl/tk, so don't expect too much - here's a <a href="mcdl_screenshot.png">screenshot</a><br>
<br>
i use <a href="bin/showbooks">showbooks</a> to keep track of my library books<br>
<br>
<h4>build section</h4>
i usually check for a new vim patch level every day - none of my scripts are unusual or ground-breaking, but<br>
may be of interest to some<br>
<br>
i start with a bash shell, konsole<br>
<br>
by virtue of the<br>
<pre>
    alias cd7='cd ~/.build/hgvim'
</pre>
in my ~/.bashrc (i am big on directory changing aliases) it is easy to get to the vim build path<br>
<br>
to help with the occasional brain flatulation i sometimes run my little cheat sheet script <a href=".build/vim/inst">inst</a><br>
(think &quot;instructions&quot;) which provides a brief description for most of the executables on the build path<br>
<br>
since bram moved us to mercurial for vim 7.3 i've started a new build path for vim i call ~/.build/hgvim<br>
<br>
i use <a href=".build/vim/t">t</a> to &quot;test&quot; the repository for updates - this script performs at heart an &quot;hg incoming&quot; - it tests<br>
the result of the incoming command to determine whether or not changes are available, and logs the result in<br>
one of two logs:  the spare-incoming.log is for the &quot;no changes found&quot; attempts, and the incoming.log<br>
is for queries that report new changesets available<br>
<br>
since the last merge, tag tip and branch vim73 no longer reside in the same changeset, so i have re-written my changeset<br>
finder <a href=".build/vim/cs">cs</a> to look, using <a href=".build/vim/lft.awk">lft.awk</a>, for tag tip only<br>
<br>
<a href=".build/vim/cbl">cbl</a> is a cute script that uses the bash paste command to display a screenful of tails of both<br>
spare-incoming and incoming logs side by side - you'll want a shell with at least 105 columns to use it<br>
<br>
the spare-incoming.log is mind-numbingly repetitive so i wrote <a href=".build/vim/jtfm">jtfm</a> to show the timestamps only -<br>
it is used by cbl<br>
<br>
the scripts that actually update my local repository all start with &quot;u&quot;:<br>
<pre>
    <a href=".build/vim/u">u</a>   -  hg pull
    <a href=".build/vim/u2">u2</a>  -  hg merge $@
    <a href=".build/vim/u3">u3</a>  -  hg commit $@
</pre>
<br>
and usually the way i run u2 is with <pre>`cs`</pre> as an argument<br>
<br>
my build script is a pretty straightforward <a href=".build/vim/m">m</a>, and i like to watch it run in case configure is triggered by<br> the process - if it is i cancel it and run <a href=".build/vim/myconfig">myconfig</a> which has my size and compiledby options (it is finding<br>
GTK2 on its own)<br>
<br>
install is equally unsurprising, performed with a <a href=".build/vim/i">sudo i</a><br>
<br>
some of the other things mentioned in <a href=".build/vim/inst">inst</a>:<br>
<pre>
    <a href=".build/vim/sfs">sfs</a>  -  a handy cheat-sheet on how to start from scratch
</pre>
<br>
<br>
<br>
another member of my suite of build tools is <a href="bin/rcfnn">rcfnn</a>, the purpose of which is to compare<br>
my netrw version number with the one on charles' site, and if his is different, bring his down and prepare to<br>
install it (after saving the old one of course)<br>
<br>
rcfnn inspired <a href="bin/rcfnb">rcfnb</a>, which checks for a new bufexplorer,<br>
and after that <a href="bin/rcfnc">rcfnc</a> was inevitable - it checks for a new csapprox<br>
unable to stop myself, i next created <a href="bin/rcfnbi">rcfnbi</a> to check for a newer biogoo<br>
<br>
<br>
<br>
<br>
<br>
<br>
<a href="bin/gvc">gvc</a><br>
<br>
<br>
<br>
<a href="bin/gvl">gvl</a><br>
<br>
<br>
<br>
<br>
<br>
-->
</body>
</html>


